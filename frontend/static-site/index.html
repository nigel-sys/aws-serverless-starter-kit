<!DOCTYPE html>
<html>
  <head>
    <title>Serverless App</title>
    <script src="config.js"></script>
    <script>
      const token = localStorage.getItem('id_token');
      if (!token) {
        const cfg = window.APP_CONFIG;
        window.location.href = `${cfg.cognitoDomain}/login?client_id=${cfg.clientId}&response_type=token&scope=email+openid+profile&redirect_uri=${cfg.redirectUri}`;
      }
    </script>
  </head>
  <body>
    <h1>Welcome to the Serverless App</h1>
    <div id="user"></div>
    <button onclick="callApi()">Call Hello API</button>
    <p id="response"></p>
    <button onclick="logout()">Logout</button>

    <script src="script.js"></script>
  </body>
</html>
